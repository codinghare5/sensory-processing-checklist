---
layout: layouts/base.njk
title: Read and Write Files 
templateClass: tmpl-post
eleventyNavigation:
  key: Read/Write
  parent: Test Code
  order: 3
---

<section class="container-xl card mb-2">
    <h1> Test Reading and Writing Files </h2>
    <nav class="d-flex justify-content-around py-4">
        {# button to save question answers #}
        <button class="p-2 bg-info rounded" id="savebutton" type="button">Save Text</button>
        {# button to save question answers #}
        {# input type='file' is best for loading a file in #}
        <button class="p-2 bg-info rounded" id="readbutton" type="button">Read Text</button>
    </nav>
</section>

</section>
    <textarea id="textarea" rows=20 class="w-100"></textarea>
</section>

<script>
    saveButton = document.getElementById("savebutton");
    readButton = document.getElementById("readbutton");
    textArea = document.getElementById("textarea")

    let fileHandle;
    readButton.addEventListener('click', async () => {
        [fileHandle] = await window.showOpenFilePicker();
        const file = await fileHandle.getFile();
        const contents = await file.text();
        textArea.value = contents;
        //const jsoncontents = JSON.parse(contents);
        //textArea.value = JSON.stringify(contents, null, 3);
    });

</script>